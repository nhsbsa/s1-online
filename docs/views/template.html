{% from 'header/macro.njk' import header %}
{% from 'footer/macro.njk' import footer %}
{% from 'skip-link/macro.njk' import skipLink %}
{% from 'action-link/macro.njk' import actionLink %}
{% from 'breadcrumb/macro.njk' import breadcrumb %}
{% from 'contents-list/macro.njk' import contentsList %}
{% from 'details/macro.njk' import details %}
{% from 'header/macro.njk' import header %}
{% from 'hero/macro.njk' import hero %}
{% from 'footer/macro.njk' import footer %}
{% from 'do-dont-list/macro.njk' import list %}
{% from 'images/macro.njk' import image %}
{% from 'inset-text/macro.njk' import insetText %}
{% from 'pagination/macro.njk' import pagination %}
{% from 'skip-link/macro.njk' import skipLink %}
{% from 'tables/macro.njk' import table %}
{% from 'warning-callout/macro.njk' import warningCallout %}
{% from 'back-link/macro.njk' import backLink %}
{% from 'button/macro.njk' import button %}
{% from 'checkboxes/macro.njk' import checkboxes %}
{% from 'date-input/macro.njk' import dateInput %}
{% from 'error-message/macro.njk' import errorMessage %}
{% from 'error-summary/macro.njk' import errorSummary %}
{% from 'fieldset/macro.njk' import fieldset %}
{% from 'hint/macro.njk' import hint %}
{% from 'input/macro.njk' import input %}
{% from 'label/macro.njk' import label %}
{% from 'radios/macro.njk' import radios %}
{% from 'select/macro.njk' import select %}
{% from 'summary-list/macro.njk' import summaryList %}
{% from 'textarea/macro.njk' import textarea %}

<!DOCTYPE html>
<!--[if lt IE 9]><html class="ie8" lang="en"><![endif]--><!--[if IE 9]><html class="ie9" lang="en"><![endif]--><!--[if gt IE 9]><!--><html lang="en" style="{{ html_style }}"><!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">

    <title>{% block pageTitle %}NHS.UK prototype kit{% endblock %}</title>

    <link href="https://www.nhs.uk/" rel="preconnect">
    <link href="https://assets.nhs.uk/" rel="preconnect" crossorigin>

    <link type="font/woff2" href="https://assets.nhs.uk/fonts/FrutigerLTW01-55Roman.woff2" rel="preload" as="font" crossorigin>
    <link type="font/woff2" href="https://assets.nhs.uk/fonts/FrutigerLTW01-65Bold.woff2" rel="preload" as="font" crossorigin>

    {% block headCSS %}
      <link href="/css/main.css" rel="stylesheet">
    {% endblock %}

    <script src="/nhsuk-frontend/nhsuk.min.js" defer></script>

  
    {% block headIcons %}
    <link rel="shortcut icon" href="/nhsuk-frontend/assets/favicons/favicon.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="/nhsuk-frontend/assets/favicons/apple-touch-icon-180x180.png">
    <link rel="mask-icon" href="/nhsuk-frontend/assets/favicons/favicon.svg" color="#005eb8">
    <link rel="icon" sizes="192x192" href="/nhsuk-frontend/assets/favicons/favicon-192x192.png">
    <meta name="msapplication-TileImage" content="/nhsuk-frontend/assets/favicons/mediumtile-144x144.png">
    <meta name="msapplication-TileColor" content="#005eb8">
    <meta name="msapplication-square70x70logo" content="/nhsuk-frontend/assets/favicons/smalltile-70x70.png">
    <meta name="msapplication-square150x150logo" content="/nhsuk-frontend/assets/favicons/mediumtile-150x150.png">
    <meta name="msapplication-wide310x150logo" content="/nhsuk-frontend/assets/favicons/widetile-310x150.png">
    <meta name="msapplication-square310x310logo" content="/nhsuk-frontend/assets/favicons/largetile-310x310.png">
    {% endblock %}
  </head>

  <body class="{{ bodyClasses }}">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js">

      
    </script>

    <script>
      document.body.className = ((document.body.className) ? document.body.className + ' js-enabled' : 'js-enabled');

      //// Select Countries List (ADD / REMOVE NEW SELECT tags for each conditional checkbox input) ////

      /// EU

      /// EU Round Two

      var euCountriesRT = [
        "Austria", "Belgium", "Bulgaria", "Croatia", "Cyprus", "Czechia (Czech Republic)",
        "Denmark", "Estonia", "Finland", "France", "Germany", "Greece", "Hungary",
        "Iceland", "Ireland", "Italy", "Latvia", "Liechtenstein", "Lithuania", "Luxemburg",
        "Malta", "Netherlands", "Norway", "Poland", "Portugal",
        "Romania", "Slovakia", "Slovenia",
        "Spain", "Sweden", "Switzerland"
      ]

      function addInputEURT(el){
        var newFieldEURT = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountEURT = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountEURT);

        // Create ID for new select we're going to add
        var newSelectIDEURT = `${el.previousElementSibling.className}-${inputCountEURT}`;

        newFieldEURT.innerHTML = `<br><div class="row"><label style="text-align: left;" class='nhsuk-label column' for='${newSelectIDEURT}'>Country name</label><a style="text-align: right;" class="column" href='#' type='button' value='-' onClick='return removeInputEURT(this);'>Remove</a></div><select id='${newSelectIDEURT}' name='myInputsEURT[]' type='text'><option value=''></option></select></div>`;
        document.getElementById('appendableEURT').appendChild(newFieldEURT);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectIDEURT}`),
          source: euCountriesRT
        })

          return false;
        }

      function removeInputEURT(btn){
        btn.parentNode.parentNode.remove();
        return false;
      }


      // Better to define an array of countries to pull into the select rather than redefining in HTML each time
      // accessibleAutocomplete using 'source' can be used to pass the below array as an example

      var euCountries = [
        "Austria", "Belgium", "Bulgaria", "Croatia", "Cyprus", "Czechia (Czech Republic)",
        "Denmark", "Estonia", "Finland", "France", "Germany", "Greece", "Hungary",
        "Iceland", "Ireland", "Italy", "Latvia", "Liechtenstein", "Lithuania", "Luxemburg",
        "Malta", "Netherlands", "Norway", "Poland", "Portugal",
        "Romania", "Slovakia", "Slovenia",
        "Spain", "Sweden", "Switzerland"
      ]

      function addInputEU(el){
        var newFieldEU = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountEU = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountEU);

        // Create ID for new select we're going to add
        var newSelectIDEU = `${el.previousElementSibling.className}-${inputCountEU}`;

        newFieldEU.innerHTML = `<br><label class='nhsuk-label' for='${newSelectIDEU}'>Country name</label><select id='${newSelectIDEU}' name='myInputsEU[]' type='text'><option value=''></option></select></div><a href='#' type='button' value='-' onClick='return removeInputEU(this);'>- Remove State Pension country</a>`;
        document.getElementById('appendableEU').appendChild(newFieldEU);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectIDEU}`),
          source: euCountries
        })

        return false;
      }

      function removeInputEU(btn){
        btn.parentNode.remove();
        return false;
      }


      /// EU State Pension

      // Better to define an array of countries to pull into the select rather than redefining in HTML each time
      // accessibleAutocomplete using 'source' can be used to pass the below array as an example

      var spEuCountries = [
        "Austria", "Belgium", "Bulgaria", "Croatia", "Cyprus", "Czechia (Czech Republic)",
        "Denmark", "Estonia", "Finland", "France", "Germany", "Greece", "Hungary",
        "Iceland", "Ireland", "Italy", "Latvia", "Liechtenstein", "Lithuania", "Luxemburg",
        "Malta", "Netherlands", "Norway", "Poland", "Portugal",
        "Romania", "Slovakia", "Slovenia",
        "Spain", "Sweden", "Switzerland", "United Kingdom"
      ]

      function addInputEUSP(el){
        var newFieldEUSP = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountEUSP = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountEUSP);

        // Create ID for new select we're going to add
        var newSelectIDEUSP = `${el.previousElementSibling.className}-${inputCountEUSP}`;

        newFieldEUSP.innerHTML = `<br><label class='nhsuk-label' for='${newSelectIDEUSP}'>Country name</label><select id='${newSelectIDEUSP}' name='myInputsEUSP[]' type='text'><option value=''></option></select></div><a href='#' type='button' value='-' onClick='return removeInputEUSP(this);'>- Remove State Pension country</a>`;
        document.getElementById('appendableEUSP').appendChild(newFieldEUSP);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectIDEUSP}`),
          source: spEuCountries
        })

        return false;
      }

      function removeInputEUSP(btn){
        btn.parentNode.remove();
        return false;
      }

      

      /// Other

      // Other Round 2

      var worldCountriesRT = [
        "Afghanistan", "Aland Islands", "Albania", "Algeria", "American Samoa", "Andorra",
        "Angola", "Anguilla", "Antarctica", "Antigua and Barbuda", "Argentina", "Armenia", "Aruba",
        "Australia", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados",
        "Belarus", "Belize", "Benin", "Bermuda",
        "Bhutan", "Bolivia (Plurinational State of)", "Bonaire, Sint Eustatius and Saba",
        "Bosnia and Herzegovina", "Botswana", "Bouvet Island", "Brazil",
        "British Indian Ocean Territory", "Brunei Darussalam",
        "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada",
        "Cayman Islands", "Central African Republic", "Chad", "Chile", "China",
        "Christmas Island", "Cocos (Keeling) Islands", "Colombia", "Comoros", "Congo",
        "Congo (Democratic Republic of the)", "Cook Islands", "Costa Rica", "Cote d'Ivoire",
        "Cuba", "Curacao", "Djibouti",
        "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea",
        "Eritrea", "Ethiopia", "Falkland Islands (Malvinas)", "Faroe Islands",
        "Fiji", "French Guiana", "French Polynesia",
        "French Southern Territories", "Gabon", "Gambia", "Georgia", "Ghana",
        "Gibraltar", "Greenland", "Grenada", "Guadeloupe", "Guam", "Guatemala",
        "Guernsey", "Guinea", "Guinea-Bissau", "Guyana", "Haiti",
        "Heard Island and McDonald Islands", "Holy See", "Honduras", "Hong Kong",
        "India", "Indonesia", "Iran (Islamic Republic of)", "Iraq",
        "Isle of Man", "Israel", "Jamaica", "Japan", "Jersey", "Jordan", "Kazakhstan",
        "Kenya", "Kiribati", "Korea (Democratic People's Republic of)",
        "Korea (Republic of)", "Kuwait", "Kyrgyzstan", "Lao People's Democratic Republic",
        "Lebanon", "Lesotho", "Liberia", "Libya", "Macao", 
        "Macedonia (the former Yugoslav Republic of)",
        "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Marshall Islands",
        "Martinique", "Mauritania", "Mauritius", "Mayotte", "Mexico",
        "Micronesia (Federated States of)", "Moldova (Republic of)", "Monaco", "Mongolia",
        "Montenegro", "Montserrat", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru",
        "Nepal", "New Caledonia", "New Zealand", "Nicaragua", "Niger", "Nigeria",
        "Niue", "Norfolk Island", "Northern Mariana Islands", "Oman", "Pakistan",
        "Palau", "Palestine, State of", "Panama", "Papua New Guinea", "Paraguay", "Peru",
        "Philippines", "Pitcairn", "Puerto Rico", "Qatar", "Reunion", "Russian Federation", "Rwanda", "Saint Barthelemy",
        "Saint Helena, Ascension and Tristan da Cunha", "Saint Kitts and Nevis", "Saint Lucia",
        "Saint Martin (French part)", "Saint Pierre and Miquelon",
        "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe",
        "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore",
        "Sint Maarten (Dutch part)", "Solomon Islands", "Somalia", "South Africa", 
        "South Georgia and the South Sandwich Islands", "South Sudan",
        "Sri Lanka", "Sudan", "Suriname", "Svalbard and Jan Mayen", "Swaziland",
        "Syrian Arab Republic", "Taiwan, Province of China[a]", "Tajikistan",
        "Tanzania, United Republic of", "Thailand", "Timor-Leste", "Togo", "Tokelau", "Tonga",
        "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Turks and Caicos Islands",
        "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates",
        "United States of America", "United States Minor Outlying Islands",
        "Uruguay", "Uzbekistan", "Vanuatu", "Venezuela (Bolivarian Republic of)", "Viet Nam",
        "Virgin Islands (British)", "Virgin Islands (U.S.)", "Wallis and Futuna",
        "Western Sahara", "Yemen", "Zambia", "Zimbabwe"
      ]

      function addInputOtherRT(el){
        var newFieldOtherRT = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountOtherRT = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountOtherRT);

        // Create ID for new select we're going to add
        var newSelectID = `${el.previousElementSibling.className}-${inputCountOtherRT}`;

        newFieldOtherRT.innerHTML = `<br><div class="row"><label class='nhsuk-label column' for='${newSelectID}'>Country name</label><a style="text-align: right;" class="column" href='#' type='button' value='-' onClick='return removeInputOtherRT(this);'>Remove</a></div><select id='${newSelectID}' name='myInputsOtherRT[]' type='text'><option value=''></option></select></div>`;
        document.getElementById('appendableOtherRT').appendChild(newFieldOtherRT);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectID}`),
          source: worldCountriesRT
        })

        return false;

      }

      function removeInputOtherRT(btn){
        btn.parentNode.parentNode.remove();
        return false;
      }

      //

      var worldCountries = [
        "Afghanistan", "Aland Islands", "Albania", "Algeria", "American Samoa", "Andorra",
        "Angola", "Anguilla", "Antarctica", "Antigua and Barbuda", "Argentina", "Armenia", "Aruba",
        "Australia", "Azerbaijan", "Bahamas", "Bahrain", "Bangladesh", "Barbados",
        "Belarus", "Belize", "Benin", "Bermuda",
        "Bhutan", "Bolivia (Plurinational State of)", "Bonaire, Sint Eustatius and Saba",
        "Bosnia and Herzegovina", "Botswana", "Bouvet Island", "Brazil",
        "British Indian Ocean Territory", "Brunei Darussalam",
        "Burkina Faso", "Burundi", "Cabo Verde", "Cambodia", "Cameroon", "Canada",
        "Cayman Islands", "Central African Republic", "Chad", "Chile", "China",
        "Christmas Island", "Cocos (Keeling) Islands", "Colombia", "Comoros", "Congo",
        "Congo (Democratic Republic of the)", "Cook Islands", "Costa Rica", "Cote d'Ivoire",
        "Cuba", "Curacao", "Djibouti",
        "Dominica", "Dominican Republic", "Ecuador", "Egypt", "El Salvador", "Equatorial Guinea",
        "Eritrea", "Ethiopia", "Falkland Islands (Malvinas)", "Faroe Islands",
        "Fiji", "French Guiana", "French Polynesia",
        "French Southern Territories", "Gabon", "Gambia", "Georgia", "Ghana",
        "Gibraltar", "Greenland", "Grenada", "Guadeloupe", "Guam", "Guatemala",
        "Guernsey", "Guinea", "Guinea-Bissau", "Guyana", "Haiti",
        "Heard Island and McDonald Islands", "Holy See", "Honduras", "Hong Kong",
        "India", "Indonesia", "Iran (Islamic Republic of)", "Iraq",
        "Isle of Man", "Israel", "Jamaica", "Japan", "Jersey", "Jordan", "Kazakhstan",
        "Kenya", "Kiribati", "Korea (Democratic People's Republic of)",
        "Korea (Republic of)", "Kuwait", "Kyrgyzstan", "Lao People's Democratic Republic",
        "Lebanon", "Lesotho", "Liberia", "Libya", "Macao", 
        "Macedonia (the former Yugoslav Republic of)",
        "Madagascar", "Malawi", "Malaysia", "Maldives", "Mali", "Marshall Islands",
        "Martinique", "Mauritania", "Mauritius", "Mayotte", "Mexico",
        "Micronesia (Federated States of)", "Moldova (Republic of)", "Monaco", "Mongolia",
        "Montenegro", "Montserrat", "Morocco", "Mozambique", "Myanmar", "Namibia", "Nauru",
        "Nepal", "New Caledonia", "New Zealand", "Nicaragua", "Niger", "Nigeria",
        "Niue", "Norfolk Island", "Northern Mariana Islands", "Oman", "Pakistan",
        "Palau", "Palestine, State of", "Panama", "Papua New Guinea", "Paraguay", "Peru",
        "Philippines", "Pitcairn", "Puerto Rico", "Qatar", "Reunion", "Russian Federation", "Rwanda", "Saint Barthelemy",
        "Saint Helena, Ascension and Tristan da Cunha", "Saint Kitts and Nevis", "Saint Lucia",
        "Saint Martin (French part)", "Saint Pierre and Miquelon",
        "Saint Vincent and the Grenadines", "Samoa", "San Marino", "Sao Tome and Principe",
        "Saudi Arabia", "Senegal", "Serbia", "Seychelles", "Sierra Leone", "Singapore",
        "Sint Maarten (Dutch part)", "Solomon Islands", "Somalia", "South Africa", 
        "South Georgia and the South Sandwich Islands", "South Sudan",
        "Sri Lanka", "Sudan", "Suriname", "Svalbard and Jan Mayen", "Swaziland",
        "Syrian Arab Republic", "Taiwan, Province of China[a]", "Tajikistan",
        "Tanzania, United Republic of", "Thailand", "Timor-Leste", "Togo", "Tokelau", "Tonga",
        "Trinidad and Tobago", "Tunisia", "Turkey", "Turkmenistan", "Turks and Caicos Islands",
        "Tuvalu", "Uganda", "Ukraine", "United Arab Emirates",
        "United States of America", "United States Minor Outlying Islands",
        "Uruguay", "Uzbekistan", "Vanuatu", "Venezuela (Bolivarian Republic of)", "Viet Nam",
        "Virgin Islands (British)", "Virgin Islands (U.S.)", "Wallis and Futuna",
        "Western Sahara", "Yemen", "Zambia", "Zimbabwe"
      ]

      function addInputOther(el){
        var newFieldOther = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountOther = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountOther);

        // Create ID for new select we're going to add
        var newSelectID = `${el.previousElementSibling.className}-${inputCountOther}`;

        newFieldOther.innerHTML = `<br><label class='nhsuk-label' for='${newSelectID}'>Country name</label><select id='${newSelectID}' name='myInputsOther[]' type='text'><option value=''></option></select></div><a href='#' type='button' value='-' onClick='return removeInputOther(this);'>- Remove nationality</a>`;
        document.getElementById('appendableOther').appendChild(newFieldOther);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectID}`),
          source: worldCountries
        })

        return false;

      }

      function removeInputOther(btn){
        btn.parentNode.remove();
        return false;
      }

      //For Living EU Form Other Round 2

      //For Living EU Form

      function addInputLivingOtherRT(el){
        var newFieldLivingOtherRT = document.createElement('div');

        // Count current amount of inputs in section
        var inputCountLivingOtherRT = el.closest('div').getElementsByTagName('select').length;
        console.log(inputCountLivingOtherRT);

        // Create ID for new select we're going to add
        var newSelectLivingIDRT = `${el.previousElementSibling.className}-${inputCountLivingOtherRT}`;

        newFieldLivingOtherRT.innerHTML = `<br><div class="row"><label class='nhsuk-label column' for='${newSelectLivingIDRT}'>Country name</label><a class="column" style="text-align: right;" href='#' type='button' value='-' onClick='return removeInputLivingOtherRT(this);'>Remove</a></div><select id='${newSelectLivingIDRT}' name='myInputsLivingOtherRT[]' type='text'><option value=''></option></select></div>`;
        document.getElementById('appendableLivingOtherRT').appendChild(newFieldLivingOtherRT);

        // Use ID of new select to initilise autcomplete for our new select
        accessibleAutocomplete.enhanceSelectElement({
          selectElement: document.querySelector(`#${newSelectLivingIDRT}`),
          source: worldCountriesRT
        })

        return false;

      }

      function removeInputLivingOtherRT(btn){
        btn.parentNode.parentNode.remove();
        return false;
      }

      //// END ///

    </script>

    {% block bodyStart %}{% endblock %}

      {% block skipLink %}
        {{ skipLink({
          href: '#maincontent',
          text: 'Skip to main content'
        }) }}
      {% endblock %}

      {% block header %}
        {{ header({}) }}
      {% endblock %}

      {% block beforeContent %}{% endblock %}

      {% block main %}
        <div class="nhsuk-width-container {{ containerClasses }}">
          <main class="nhsuk-main-wrapper {{ mainClasses }}" id="maincontent" role="main">
            {% block content %}{% endblock %}
          </main>
        </div>
      {% endblock %}

      {% block footer %}
        {{ footer() }}
      {% endblock %}

    {% block bodyEnd %}{% endblock %}

  </body>
</html>
